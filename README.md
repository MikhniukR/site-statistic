## Тестовое задание Java

Требуется реализовать REST-сервис по сбору статистики посещаемости WEB-сайта.

Сервис должен поддерживать два метода:

1. Создание события посещения сайта пользователем. Параметры:

a. Идентификатор пользователя

b. Идентификатор страницы сайта

Ответ должен содержать (в формате JSON):

a. Общее количество посещений за текущие сутки

b. Количество уникальных пользователей за текущие сутки

2. Получение статистики посещения за произвольный период. Параметр запроса: 

a. период  учёта 

Ответ должен содержать (в формате JSON):

a. Общее количество посещений за указанный период

b. Количество уникальных пользователей за указанный период

c. Количество постоянных пользователей за указанный период (пользователей,
которые за период просмотрели не менее 10 различных страниц).
В качестве хранилища информации можно использовать любую СУБД.

## Запуск

Перед первым запускам подкачать зависимости

    mvn clean install 

Так же необходимо настроить mysql сервер если он уже есть или поднять новый

## Как поднять my sql

    docker run --name mysql_statistic -p 3306:3306 \
    -e MYSQL_ROOT_PASSWORD=1234 \
    -e MYSQL_USER=java_statistic \
    -e MYSQL_PASSWORD=1234 \
    -e MYSQL_DATABASE=java_statistic \
    -d mysql/mysql-server:5.7

Если что то менять в конфигурации то исправить src/main/resources/application.properties    

## API

1. Создание события посещения сайта пользователем. Параметры:

    curl -X POST 'http://localhost:8080/api/visit?userId=userIdTest&siteUrl=www.google.com'
      
Пример результата

    {
        "countOfVisiting": 21,
        "countUniqUsers": 3
    }
    
2. Получение статистики посещения за произвольный период. Параметр запроса: 

    curl -X GET 'http://localhost:8080/api/visit?start=2020-03-19T09%3A30%3A00.000-00%3A00&end=2020-10-19T09%3A40%3A00.000-00%3A00' 
    
Пример результат
    
    {
        "countOfVisiting": 15,
        "countUniqUsers": 1,
        "countOfRegularUsers": 1
    }